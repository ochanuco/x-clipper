# Clip to Notion

Chrome 拡張機能「Clip to Notion」は、X（Twitter）の投稿詳細ページから表示名・ユーザー名・本文・投稿時刻・画像を抽出し、指定した Notion データベースへページとして保存します。個人利用を想定した開発者モード拡張機能です。

## 前提条件
- Node.js 20 以上
- pnpm 9 系
- Notion で発行したシークレットキー（`secret_` で開始）
- 対象データベースに対して前述のキーを共有済みであること

## セットアップ
```bash
pnpm install
```

## ビルド
```bash
pnpm run build
```
`dist/` に manifest・サービスワーカー・コンテンツスクリプト・オプションページが生成されます。

## Chrome への読み込み手順
1. `chrome://extensions/` を開く。
2. 右上で「デベロッパーモード」を有効化。
3. 「パッケージ化されていない拡張機能を読み込む」から `dist/` ディレクトリを選択。

## Notion 設定
1. Notion Integrations でシークレットキーを発行し、対象データベースを共有する。
2. 拡張機能のオプションページ（`chrome://extensions/` → Clip to Notion → 詳細 → 拡張機能オプション）を開く。
3. API キー、データベース URL、各プロパティ名（Title 用など）を入力して保存。

## 使い方
- X の投稿詳細ページを開いた状態で、ツールバーの拡張機能ボタンまたは右クリックメニュー「この投稿を Notion に保存」を選ぶと、設定したデータベースにページを作成します。
- 投稿本文と画像はページ本文として追加され、表示名／ユーザー名／投稿時刻／URL は指定したプロパティに書き込まれます。

## 開発メモ
- TypeScript を使用し、ビルドは `pnpm exec tsc` で行います。ウォッチやホットリロードが必要な場合は Vite などの導入を検討してください。
- テスト基盤は未構築です。自動テストを追加する場合は Jest + MSW の利用を想定しています。
